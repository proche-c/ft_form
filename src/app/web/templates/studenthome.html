{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
	<script src="{% static '/webComponents/User-Forms.js' %}"></script>
    <link rel="stylesheet" href="{% static '/styles/studentHome/Header/header.css' %}">

	<style>
		body {
            background-color: #353333;
            width: 100%;
            height: 100vh;
            margin: 0;
            overflow: scroll;
        }
	</style>
	  <script>
        window.djangoStaticUrls = {
            bootstrapChanges: "{% static 'styles/bootstrap_changes_white.css' %}",
            studentHomeStyles: "{% static 'styles/studentHome/cards/styles.css' %}",
            bootstrapCSS: "{% static 'bootstrap.min.css' %}",
            calendarIcon: "{% static 'styles/studentHome/cards/calendar2.svg' %}",
            trophyBlack: "{% static 'styles/studentHome/cards/trophy-black.svg' %}",
            trophy: "{% static 'styles/studentHome/cards/trophy.svg' %}"
        };
		
    </script>
</head>
<body>
	<header id="banner_img">
		<img id="profile-picture" alt="Profile Picture" class="rounded-circle">
		<div class="profile-container">
			<h1 id="user-title" class="user-title-name"></h1>
			<div class="progress">
				<div 
					class="progress-bar bg-success" 
					role="progressbar" 
					style="width: 0%;" 
					id="progressBar"
					aria-valuenow="0" 
					aria-valuemin="0" 
					aria-valuemax="100">
					0%
				</div>
			</div>
		</div>

		<button class="logout-btn" onclick="logout()">LOG OUT</button>

		<i class="bi bi-moon-fill theme-icon" id="darkModeIcon"></i>
		<i class="bi bi-brightness-high-fill theme-icon d-none" id="lightModeIcon"></i>
	</header>

		<user-forms></user-forms>
	<script>
		
		const user_img = localStorage.getItem('user_img');
		
		if (user_img) {
			document.getElementById('profile-picture').src = user_img;
		}

		const banner_img = localStorage.getItem('coalition_img');

		if (banner_img) {
			// Set the background image of the header element
			const banner = document.getElementById('banner_img');

			banner.style.backgroundImage = `url(${banner_img})`;
			banner.style.backgroundSize = 'cover';
			banner.style.backgroundPosition = 'center';
			banner.style.backgroundRepeat = 'no-repeat';
		}
		const username = localStorage.getItem('username');
		const title = localStorage.getItem('title');
		if (username) {
			// Set the background image of the header element
			const profile_name = document.getElementById('user-title');
			profile_name.textContent = `${username} ${title}`

		}
	</script>
	<script src="{% static '/styles/studentHome/Header/logout.js' %}"></script>
	<script src="{% static '/styles/studentHome/Header/theme.js' %}"></script>
</body>
</html>